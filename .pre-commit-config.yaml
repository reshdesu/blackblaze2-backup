repos:
  - repo: https://github.com/astral-sh/ruff-pre-commit
    rev: v0.1.6
    hooks:
      # Run the linter
      - id: ruff
        args: [--fix]
      # Run the formatter
      - id: ruff-format

  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v4.4.0
    hooks:
      - id: trailing-whitespace
      - id: end-of-file-fixer
      - id: check-yaml
      - id: check-added-large-files
      - id: check-merge-conflict
      - id: check-json

  - repo: local
    hooks:
      - id: check-emojis
        name: Check for emojis in code
        entry: python -c "import re, sys; emoji_pattern = re.compile(r'[\U0001F600-\U0001F64F\U0001F300-\U0001F5FF\U0001F680-\U0001F6FF\U0001F1E0-\U0001F1FF\U00002600-\U000027BF\U0001F900-\U0001F9FF\U0001F018-\U0001F0F5\U0001F200-\U0001F2FF]'); files_with_emojis = [f for f in sys.argv[1:] if emoji_pattern.search(open(f, 'r', encoding='utf-8').read())]; [print(f'Emoji found in {f}') for f in files_with_emojis]; sys.exit(1 if files_with_emojis else 0)"
        language: system
        files: \.(py|md|txt|yml|yaml)$
        pass_filenames: true
